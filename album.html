<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>我的个人博客</title>
  <style>
    /* 基础样式 */
    body {
      margin: 0;
      font-family: "Helvetica", sans-serif;
      background: linear-gradient(to bottom, #f0f4f8, #ffffff);
      color: #333;
    }

    /* 顶部导航 */
    header {
      background: linear-gradient(to right, #4a90e2, #9013fe);
      color: #fff;
      padding: 15px 30px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    header nav {
      display: flex;
      justify-content: center;
      gap: 20px;
    }

    header nav a {
      color: #fff;
      text-decoration: none;
      font-weight: bold;
      padding: 8px 16px;
      border-radius: 5px;
      transition: background 0.3s, transform 0.3s;
    }

    header nav a:hover {
      background: rgba(255,255,255,0.2);
      transform: scale(1.05);
    }

    /* 首页主要内容 */
    main {
      padding: 50px 20px;
      text-align: center;
    }

    main h1 {
      font-size: 3em;
      margin-bottom: 20px;
      color: #4a90e2;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
    }

    main p {
      font-size: 1.5em;
      color: #555;
      max-width: 600px;
      margin: 0 auto;
    }

    /* 欢迎卡片样式 */
    .welcome-card {
      margin-top: 40px;
      background: #fff;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.1);
      transition: transform 0.3s;
    }

    .welcome-card:hover {
      transform: translateY(-5px);
    }
  </style>
</head>
<body>

  <!-- 顶部导航 -->
  <header>
    <nav>
      <a href="index.html">首页</a>
      <a href="about.html">关于我</a>
      <a href="album.html">相册</a>
      <a href="it-guide.html">IT指南</a> <!-- 新增 IT 指南 -->
      <a href="program.html">Python程序</a> <!-- 新增 Python 程序 -->
    </nav>
  </header>

  <main>
  <h1>相册</h1>
  <p>左边是原始照片，右边是粒子化互动效果。</p>



  <div class="photo-wrapper">
    <img id="original-photo" src="photos/myphoto.jpg" alt="我的照片">
    <div class="canvas-container">
      <canvas id="canvas"></canvas>
    </div>
  </div>
</main>

<style>
  .photo-wrapper {
    display: flex;
    gap: 20px; /* 左右间距 */
    align-items: center;
  }

  #original-photo {
    max-width: 600px;  /* 调整这里可以控制图片大小 */
    height: auto;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  }
  #canvas {
    max-width: 600px;  /* 调整这里可以控制图片大小 */
    height: auto;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  }
</style>

  <!-- 粒子化效果脚本 -->
  <script>
  const canvas = document.getElementById('canvas');
  const ctx = canvas.getContext('2d');
  const mouse = { x:null, y:null, radius:80 };

canvas.addEventListener('mousemove', e => {
  const rect = canvas.getBoundingClientRect();
  mouse.x = e.clientX - rect.left;
  mouse.y = e.clientY - rect.top;
});

// 鼠标移出画布时，取消坐标
canvas.addEventListener('mouseleave', () => {
  mouse.x = null;
  mouse.y = null;
});

class Particle {
  constructor(x,y,color){
    this.x = x; this.y = y;
    this.baseX = x; this.baseY = y;
    this.size = 2; 
    this.color = color;
    this.density = Math.random()*30+1;
    this.vx = 0; // 速度X
    this.vy = 0; // 速度Y
  }
  draw(){
    ctx.fillStyle = this.color;
    ctx.beginPath();
    ctx.arc(this.x,this.y,this.size,0,Math.PI*2);
    ctx.fill();
  }
  update(){
    if(mouse.x !== null && mouse.y !== null){
      let dx = mouse.x - this.x;
      let dy = mouse.y - this.y;
      let distance = Math.sqrt(dx*dx+dy*dy);
      if(distance < mouse.radius){
        let force = (mouse.radius - distance)/mouse.radius;
        this.vx -= (dx/distance) * force * this.density * 0.6;
        this.vy -= (dy/distance) * force * this.density * 0.6;
      }
    }

    // 弹簧回弹公式
    let dx = this.baseX - this.x;
    let dy = this.baseY - this.y;
    this.vx += dx * 0.05; // 弹簧力度
    this.vy += dy * 0.05;
    this.vx *= 0.8;       // 摩擦/阻尼，越小回弹越快停
    this.vy *= 0.8;

    // 更新位置
    this.x += this.vx;
    this.y += this.vy;
  }
}


  let particlesArray=[];
  function init(imgWidth,imgHeight){
    canvas.width = imgWidth; 
    canvas.height = imgHeight; 
    particlesArray = [];
    const img = new Image(); 
    img.src = 'photos/myphoto.jpg';
    img.onload = ()=>{
      const tempCanvas = document.createElement('canvas');
      const tempCtx = tempCanvas.getContext('2d');
      tempCanvas.width = imgWidth; 
      tempCanvas.height = imgHeight;
      tempCtx.drawImage(img,0,0,imgWidth,imgHeight);
      const imgData = tempCtx.getImageData(0,0,imgWidth,imgHeight);
      for(let y=0; y<imgData.height; y+=4){
        for(let x=0; x<imgData.width; x+=4){
          const idx = (y*imgData.width+x)*4;
          const r = imgData.data[idx];
          const g = imgData.data[idx+1];
          const b = imgData.data[idx+2];
          const a = imgData.data[idx+3];
          if(a > 128){
            particlesArray.push(new Particle(x,y,`rgb(${r},${g},${b})`));
          }
        }
      }
      animate();
    }
  }

  function animate(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    particlesArray.forEach(p=>{ p.update(); p.draw(); });
    requestAnimationFrame(animate);
  }

  const originalImg = document.getElementById('original-photo');
  originalImg.onload = ()=>{ init(originalImg.width,originalImg.height); };
  </script>

  <div class="welcome-card">
      <h2>其他动态</h2>
      <p>欢迎</p>
  </div>


<!-- 图片轮播板块 -->
<div class="carousel">
  <button class="prev">&#10094;</button>
  <img id="carousel-image" src="photos_2/photo_3.jpg" alt="轮播图片">
  <button class="next">&#10095;</button>
</div>

<style>
.carousel {
  position: relative;
  max-width: 600px;
  margin: 50px auto; /* 居中 */
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  display: flex;
  align-items: center;
  justify-content: center;
}

.carousel img {
  width: 100%;
  display: block;
  border-radius: 8px;
}

.carousel button {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(0,0,0,0.3);
  color: #fff;
  border: none;
  font-size: 2em;
  padding: 0 12px;
  cursor: pointer;
  border-radius: 5px;
  transition: background 0.3s;
}

.carousel button:hover {
  background: rgba(0,0,0,0.6);
}

.carousel .prev {
  left: 10px;
}

.carousel .next {
  right: 10px;
}
</style>

<script>
const carouselImages = ["photos/photo1.jpg", "photos/photo2.jpg"];
let currentIndex = 0;

const carouselImage = document.getElementById("carousel-image");
const prevBtn = document.querySelector(".carousel .prev");
const nextBtn = document.querySelector(".carousel .next");

function showImage(index) {
  carouselImage.src = carouselImages[index];
}

// 点击箭头切换图片
prevBtn.addEventListener("click", () => {
  currentIndex = (currentIndex - 1 + carouselImages.length) % carouselImages.length;
  showImage(currentIndex);
});

nextBtn.addEventListener("click", () => {
  currentIndex = (currentIndex + 1) % carouselImages.length;
  showImage(currentIndex);
});
</script>



</body>
</html>
   
